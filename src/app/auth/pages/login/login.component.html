<h2 class="text-center">Login</h2>

<form 
    class="mt-3"
    autocomplete="off"
    [formGroup]="miFormulario"
    (ngSubmit)="login()">
    <div class="form-group custom-control">
        <div>
            <label 
                for="email" 
                class="form-label">
                Email
            </label>
            <input 
                type="email" 
                class="form-control mt-3"
                formControlName="email"
                [ngClass]=" miFormulario.get('email')!.touched 
                            && miFormulario.get('email')!.errors 
                            ? 'is-invalid' 
                            : '' || miFormulario.get('email')!.touched 
                                    && miFormulario.get('email')!.valid 
                                    ? 'is-valid'
                                    :''
                          "
                placeholder="Introduzca su email">
            <div 
                class="invalid-feedback">
                <p>{{miFormulario.get('email')?.hasError('required') ? "Se requiere un email" :''}}</p>
                <p>{{miFormulario.get('email')?.hasError('email') ? "El email no tiene el formato correcto" :''}}</p>
                
            </div> 
        </div>
        <div>
            <label 
                for="password" 
                class="form-label mt-4">
                Contraseña
            </label>
            <input 
                type="password" 
                class="form-control mt-3"
                formControlName="password"
                [ngClass]=" miFormulario.get('password')!.touched 
                            && miFormulario.get('password')!.errors 
                            ? 'is-invalid' 
                            : '' || miFormulario.get('password')!.touched 
                                    && !miFormulario.get('password')!.invalid 
                                    ? 'is-valid'
                                    :''
                          "
                placeholder="Introduzca su contrasaeña">
            
            <div 
                class="invalid-feedback">
                <p>{{miFormulario.get('password')?.hasError('required') ? "Se requiere contraseña" :''}}</p>
                <p>{{miFormulario.get('password')?.hasError('minlength') ? "La contraseña debe tener al menos 6 carácteres" :''}}</p>
                <p>{{miFormulario.get('password')?.hasError('maxlength') ? "La contraseña debe tener como máximo 10 carácteres" :''}}</p>
                <p>{{miFormulario.get('password')?.hasError('pattern') ? "La contraseña debe incluir un símbolo" :''}}</p>
                
            </div> 
        </div>
        <div class="d-flex justify-content-between mt-5">
            <a routerLink="/auth/register" class="mt-4">Crear cuenta</a>
            <button 
                type="submit" 
                class="btn btn-primary mt-3 "
                [disabled]="miFormulario.invalid">
                Login
            </button>
        </div>
    </div>

</form>